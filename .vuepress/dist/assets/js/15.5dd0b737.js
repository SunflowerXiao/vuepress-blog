(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{453:function(e,a,n){"use strict";n.r(a);var t=n(19),s=Object(t.a)({},(function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h2",{attrs:{id:"http-的请求报文"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#http-的请求报文"}},[e._v("#")]),e._v(" http 的请求报文")]),e._v(" "),n("ul",[n("li",[e._v("请求行")])]),e._v(" "),n("p",[e._v("请求方法字段+ 空格 + URL 字段 + 空格 + HTTP 协议版本字段。 例如，GET /index.html HTTP/1.1。")]),e._v(" "),n("ul",[n("li",[n("p",[e._v("请求头")])]),e._v(" "),n("li",[n("p",[e._v("空行")])]),e._v(" "),n("li",[n("p",[e._v("请求体")]),e._v(" "),n("p",[n("img",{attrs:{src:"http://threewildcat.com/static/request%E6%8A%A5%E6%96%87.png",alt:"request 请求报文"}})])])]),e._v(" "),n("h2",{attrs:{id:"http-的响应报文"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#http-的响应报文"}},[e._v("#")]),e._v(" http 的响应报文")]),e._v(" "),n("ul",[n("li",[e._v("响应行")])]),e._v(" "),n("p",[e._v("协议版本 + 空格 + 状态码 + 空格 + 状态码原因短语")]),e._v(" "),n("ul",[n("li",[n("p",[e._v("响应头")])]),e._v(" "),n("li",[n("p",[e._v("空行")])]),e._v(" "),n("li",[n("p",[e._v("响应体")]),e._v(" "),n("p",[n("img",{attrs:{src:"http://threewildcat.com/static/response_baowen.jpg",alt:"request 响应报文"}})])])]),e._v(" "),n("h2",{attrs:{id:"header"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#header"}},[e._v("#")]),e._v(" Header")]),e._v(" "),n("h3",{attrs:{id:"通用首部字段-general-header-fields"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#通用首部字段-general-header-fields"}},[e._v("#")]),e._v(" 通用首部字段（General Header Fields）")]),e._v(" "),n("p",[e._v("请求报文和响应报文两方都会使用的首部")]),e._v(" "),n("blockquote",[n("p",[e._v("Cache-control")])]),e._v(" "),n("ul",[n("li",[e._v("Cache-control 指令是单向的，在 请求 中设置的指令，不一定包含在 响应 中")]),e._v(" "),n("li",[e._v("不区分大小写")]),e._v(" "),n("li",[e._v("多个指令通过','隔开")]),e._v(" "),n("li",[e._v("具有可选参数")])]),e._v(" "),n("p",[n("strong",[e._v("Cache-control 的值")])]),e._v(" "),n("p",[n("code",[e._v("public")]),e._v("\n任何对象都可缓存该请求内容(POST)")]),e._v(" "),n("p",[n("code",[e._v("private")]),e._v("\n私有缓存（浏览器缓存）\n"),n("code",[e._v("no-cache")]),e._v("\n可以缓存，但是每次都必须访问以下服务器（304）\n"),n("code",[e._v("no-store")]),e._v("\n不可以缓存\n"),n("code",[e._v("max-age")]),e._v("\n相对于请求时间，设置过期时间\n"),n("code",[e._v("s-maxage")]),e._v("\n共享缓存使用， 私有缓存依旧使用 max-age\n"),n("code",[e._v("max-stale")]),e._v(" "),n("code",[e._v("min-fresh")])]),e._v(" "),n("p",[n("code",[e._v("must-revalidate")]),e._v("\n一旦资源过期（比如已经超过 max-age），在成功向原始服务器验证之前，缓存不能用该资源响应后续请求。\n"),n("code",[e._v("proxy-revalidate")]),e._v("\n共享缓存使用，私有缓存依旧使用 must-revalidate\n"),n("code",[e._v("no-transform")]),e._v(" "),n("code",[e._v("only-if-cached")]),e._v("\n表明客户端只接受已缓存的响应，并且不要向原始服务器检查是否有更新的拷贝。（只读取强缓存）")]),e._v(" "),n("p",[n("strong",[n("em",[e._v("如何在请求中使用")])])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("Cache-Control: max-age=<seconds>\nCache-Control: max-stale[=<seconds>]\nCache-Control: min-fresh=<seconds>\nCache-control: no-cache\nCache-control: no-store\nCache-control: no-transform\nCache-control: only-if-cached\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br")])]),n("p",[n("strong",[n("em",[e._v("如何在响应中使用")])])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("Cache-control: must-revalidate\nCache-control: no-cache\nCache-control: max-age=0, must-revalidate\nCache-control: no-store\nCache-control: no-transform\nCache-control: public\nCache-control: private\nCache-control: proxy-revalidate\nCache-Control: max-age=<seconds>\nCache-control: s-maxage=<seconds>\nCache-Control:public, max-age=31536000\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br")])]),n("p",[n("font",{staticStyle:{color:"#999","font-size":"12px"}},[e._v("响应头设置 "),n("code",[e._v("no-store")]),e._v(" 可以关闭该请求的缓存")]),n("br"),e._v("\nCache-control: no-store")],1),e._v(" "),n("p",[n("font",{staticStyle:{color:"#999","font-size":"12px"}},[e._v("响应头设置 "),n("code",[e._v("no-cache")]),e._v(" "),n("code",[e._v("max-age=0, must-revalidate")]),e._v(" 表示客户端可以缓存资源，每次使用缓存资源前都必须重新验证其有效性。这意味着每次都会发起 HTTP 请求，但当缓存内容仍有效时可以跳过 HTTP 响应体的下载 (关闭该请求的强缓存， 但是依旧存在弱缓存)")]),n("br"),e._v("\nCache-control: no-cache"),n("br"),e._v("\nCache-control: max-age=0, must-revalidate")],1),e._v(" "),n("p",[n("font",{staticStyle:{color:"#999","font-size":"12px"}},[e._v("设置请求可以被共享，并且 31536000s 后过期")]),n("br"),e._v("\nCache-Control:public, max-age=31536000")],1),e._v(" "),n("blockquote",[n("p",[e._v("Pragma")])]),e._v(" "),n("p",[e._v("行为与 "),n("code",[e._v("Cache-Control: no-cache")]),e._v(" 一致。建议只在需要兼容 "),n("code",[e._v("HTTP/1.0")]),e._v(" 客户端的场合下应用 Pragma 首部。")]),e._v(" "),n("p",[n("strong",[e._v("语法")])]),e._v(" "),n("p",[e._v("Pragma: no-cache")]),e._v(" "),n("blockquote",[n("p",[e._v("Connection")])]),e._v(" "),n("p",[n("strong",[e._v("语法")])]),e._v(" "),n("p",[e._v("Connection: close // Http1.0 请求的默认值， 请求成功后关闭连接"),n("br"),e._v("\nConnection: keep-alive // 持久连接， Http1.1 默认使用 keep-alive")]),e._v(" "),n("blockquote",[n("p",[e._v("Upgrade"),n("br"),e._v("\nvia"),n("br"),e._v("\nWarning"),n("br"),e._v("\nTransfor-Encoding"),n("br"),e._v("\nDate")])]),e._v(" "),n("h3",{attrs:{id:"reauest-header-fields"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#reauest-header-fields"}},[e._v("#")]),e._v(" Reauest Header Fields")]),e._v(" "),n("p",[e._v("客户端向服务器发送请求的报文时使用的首部\nAccept\nAccept-Encoding\nAccept-Language\nAccept-Charset\nIf-Match\nIf-None-Match\nIf-Modified-Since\nIf-Unmodified-Since\nIf-Ranges\nRange\nAuthorization\nProxy-Authorization\nHost\nUser-Agent\nReferer\nCookie")]),e._v(" "),n("h3",{attrs:{id:"response-header"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#response-header"}},[e._v("#")]),e._v(" Response header")]),e._v(" "),n("p",[e._v("从服务器向客户端响应时使用的字段\nAccept-Ranges\nAge\nLocation\nvary\nETag\nWWW-Authenticate\nProxy-Authenticate\nServer\nRetry-After")]),e._v(" "),n("h3",{attrs:{id:"实体首部字段-entiy-header-fields"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实体首部字段-entiy-header-fields"}},[e._v("#")]),e._v(" 实体首部字段（Entiy Header Fields）")]),e._v(" "),n("p",[e._v("针对请求报文和响应报文的实体部分使用首部")]),e._v(" "),n("p",[e._v("Access-Allow-Origin\nAccess-Allow-Methods\nContent-Encoding\nContent-Type\nLast-Modified\nExpires\n....")])])}),[],!1,null,null,null);a.default=s.exports}}]);