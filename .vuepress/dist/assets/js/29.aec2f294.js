(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{423:function(e,a,t){"use strict";t.r(a);var s=t(19),n=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"http-的请求报文"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#http-的请求报文"}},[e._v("#")]),e._v(" http 的请求报文")]),e._v(" "),t("ul",[t("li",[e._v("请求行")])]),e._v(" "),t("p",[e._v("请求方法字段+ 空格 + URL 字段 + 空格 + HTTP 协议版本字段。 例如，GET /index.html HTTP/1.1。")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("请求头")])]),e._v(" "),t("li",[t("p",[e._v("空行")])]),e._v(" "),t("li",[t("p",[e._v("请求体")]),e._v(" "),t("p",[t("img",{attrs:{src:"http://threewildcat.com/static/request%E6%8A%A5%E6%96%87.png",alt:"request 请求报文"}})])])]),e._v(" "),t("h2",{attrs:{id:"http-的响应报文"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#http-的响应报文"}},[e._v("#")]),e._v(" http 的响应报文")]),e._v(" "),t("ul",[t("li",[e._v("响应行")])]),e._v(" "),t("p",[e._v("协议版本 + 空格 + 状态码 + 空格 + 状态码原因短语")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("响应头")])]),e._v(" "),t("li",[t("p",[e._v("空行")])]),e._v(" "),t("li",[t("p",[e._v("响应体")]),e._v(" "),t("p",[t("img",{attrs:{src:"http://threewildcat.com/static/response_baowen.jpg",alt:"request 响应报文"}})])])]),e._v(" "),t("h2",{attrs:{id:"header"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#header"}},[e._v("#")]),e._v(" Header")]),e._v(" "),t("h3",{attrs:{id:"通用首部字段-general-header-fields"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通用首部字段-general-header-fields"}},[e._v("#")]),e._v(" 通用首部字段（General Header Fields）")]),e._v(" "),t("p",[e._v("请求报文和响应报文两方都会使用的首部")]),e._v(" "),t("blockquote",[t("p",[e._v("Cache-control")])]),e._v(" "),t("ul",[t("li",[e._v("Cache-control 指令是单向的，在 请求 中设置的指令，不一定包含在 响应 中")]),e._v(" "),t("li",[e._v("不区分大小写")]),e._v(" "),t("li",[e._v("多个指令通过','隔开")]),e._v(" "),t("li",[e._v("具有可选参数")])]),e._v(" "),t("p",[t("strong",[e._v("Cache-control 的值")])]),e._v(" "),t("p",[t("code",[e._v("public")]),e._v(" 任何对象都可缓存该请求内容(POST)")]),e._v(" "),t("p",[t("code",[e._v("private")]),e._v(" 私有缓存（浏览器缓存）")]),e._v(" "),t("p",[t("code",[e._v("no-cache")]),e._v(" 可以缓存，但是每次都必须访问以下服务器(304)")]),e._v(" "),t("p",[t("code",[e._v("no-store")]),e._v(" 不可以缓存"),t("br"),e._v(" "),t("code",[e._v("max-age")]),e._v(" 相对于请求时间，设置过期时间")]),e._v(" "),t("p",[t("code",[e._v("s-maxage")]),e._v(" 共享缓存使用， 私有缓存依旧使用 max-age")]),e._v(" "),t("p",[t("code",[e._v("max-stale")]),t("br"),e._v(" "),t("code",[e._v("min-fresh")])]),e._v(" "),t("p",[t("code",[e._v("must-revalidate")]),e._v(" 一旦资源过期（比如已经超过 max-age），在成功向原始服务器验证之前，缓存不能用该资源响应后续请求。"),t("br"),e._v(" "),t("code",[e._v("proxy-revalidate")]),e._v(" 共享缓存使用，私有缓存依旧使用 must-revalidate"),t("br"),e._v(" "),t("code",[e._v("no-transform")]),t("br"),e._v(" "),t("code",[e._v("only-if-cached")]),e._v(" 表明客户端只接受已缓存的响应，并且不要向原始服务器检查是否有更新的拷贝。（只读取强缓存）")]),e._v(" "),t("p",[t("strong",[t("em",[e._v("如何在请求中使用")])])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Cache-Control: max-age=<seconds>\nCache-Control: max-stale[=<seconds>]\nCache-Control: min-fresh=<seconds>\nCache-control: no-cache\nCache-control: no-store\nCache-control: no-transform\nCache-control: only-if-cached\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br")])]),t("p",[t("strong",[t("em",[e._v("如何在响应中使用")])])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Cache-control: must-revalidate\nCache-control: no-cache\nCache-control: max-age=0, must-revalidate\nCache-control: no-store\nCache-control: no-transform\nCache-control: public\nCache-control: private\nCache-control: proxy-revalidate\nCache-Control: max-age=<seconds>\nCache-control: s-maxage=<seconds>\nCache-Control:public, max-age=31536000\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br")])]),t("p",[t("font",{staticStyle:{color:"#999","font-size":"12px"}},[e._v("响应头设置 "),t("code",[e._v("no-store")]),e._v(" 可以关闭该请求的缓存")])],1),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Cache-control: no-store\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[t("font",{staticStyle:{color:"#999","font-size":"12px"}},[e._v("响应头设置 "),t("code",[e._v("no-cache")]),e._v(" "),t("code",[e._v("max-age=0, must-revalidate")]),e._v(" 表示客户端可以缓存资源，每次使用缓存资源前都必须重新验证其有效性。这意味着每次都会发起 HTTP 请求，但当缓存内容仍有效时可以跳过 HTTP 响应体的下载 (关闭该请求的强缓存， 但是依旧存在弱缓存)")])],1),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Cache-control: no-cache\nCache-control: max-age=0, must-revalidate\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("p",[t("font",{staticStyle:{color:"#999","font-size":"12px"}},[e._v("设置请求可以被共享，并且 31536000s 后过期")])],1),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Cache-Control:public, max-age=31536000\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("blockquote",[t("p",[e._v("Pragma")])]),e._v(" "),t("p",[e._v("行为与 "),t("code",[e._v("Cache-Control: no-cache")]),e._v(" 一致。建议只在需要兼容 "),t("code",[e._v("HTTP/1.0")]),e._v(" 客户端的场合下应用 Pragma 首部。")]),e._v(" "),t("p",[t("strong",[e._v("语法")])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Pragma: no-cache\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("blockquote",[t("p",[e._v("Connection")])]),e._v(" "),t("p",[t("strong",[e._v("语法")])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Connection: close // Http1.0 请求的默认值， 请求成功后关闭连接\nConnection: keep-alive // 持久连接， Http1.1 默认使用 keep-alive\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("blockquote",[t("p",[e._v("Upgrade")])]),e._v(" "),t("blockquote",[t("p",[e._v("via")])]),e._v(" "),t("blockquote",[t("p",[e._v("Warning")])]),e._v(" "),t("blockquote",[t("p",[e._v("Transfor-Encoding")])]),e._v(" "),t("blockquote",[t("p",[e._v("Date")])]),e._v(" "),t("h3",{attrs:{id:"reauest-header-fields"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reauest-header-fields"}},[e._v("#")]),e._v(" Reauest Header Fields")]),e._v(" "),t("p",[e._v("客户端向服务器发送请求的报文时使用的首部")]),e._v(" "),t("blockquote",[t("p",[e._v("Accept")])]),e._v(" "),t("p",[e._v("用来告知服务器，客户端可以处理的内容类型。 服务器根据"),t("code",[e._v("内容协商机制")]),e._v("， 会使用"),t("code",[e._v("Content-type")]),e._v("应答头通知客户端它的选择")]),e._v(" "),t("p",[t("strong",[e._v("语法")])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Accept: text/html\nAccept: text/html,text/javascript,image/*\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("h4",{attrs:{id:"mime-类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mime-类型"}},[e._v("#")]),e._v(" MIME 类型")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("application/octet-stream //未知应用程序默认类型，如果服务器返回了application/octet-stream 类型的数据给浏览器，浏览器会下载这个文件，不会执行其他任何操作\ntext/plain // 文本类型\ntext/css\ntext/html\ntext/javascript\nimage/\\*\naudio/\\*\nvideo/\\*\napplication/x-www-form-urlencoded\nmultipart/form-data  // 表单上传\nmultipart/byteranges  // 把部分的响应报文，返回给浏览器\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br")])]),t("p",[e._v("Accept-Encoding\nAccept-Language\nAccept-Charset\nIf-Match\nIf-None-Match\nIf-Modified-Since\nIf-Unmodified-Since\nIf-Ranges\nRange\nAuthorization\nProxy-Authorization\nHost\nUser-Agent\nReferer\nCookie\nAccess-Control-Allow-Origin: 允许访问的域名列表\nAccess-Control-Allow-Credentials： 是否允许发送 Cookie\nAccess-Control-Expose-Headers: 设置可以通过前端 xhr 的 "),t("code",[e._v("getResponseHeader()")]),e._v("方法获取到的头部信息字段, 如果不设置的话，默认只能获取到 "),t("code",[e._v("Content-Language")]),e._v("、"),t("code",[e._v("Content-Type")]),e._v("、"),t("code",[e._v("Expires")]),e._v("、"),t("code",[e._v("Last-Modified")]),e._v("、"),t("code",[e._v("Pragma")]),e._v("、"),t("code",[e._v("Cache-Control")]),e._v("七个头部信息")]),e._v(" "),t("h3",{attrs:{id:"response-header"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#response-header"}},[e._v("#")]),e._v(" Response header")]),e._v(" "),t("p",[e._v("从服务器向客户端响应时使用的字段")]),e._v(" "),t("blockquote",[t("p",[e._v("Accept-Ranges")])]),e._v(" "),t("blockquote",[t("p",[e._v("Access-Control-Allow-Credentials")])]),e._v(" "),t("p",[e._v("Age\nLocation")]),e._v(" "),t("blockquote",[t("p",[e._v("vary\nETag\nWWW-Authenticate\nProxy-Authenticate\nServer\nRetry-After")])]),e._v(" "),t("h3",{attrs:{id:"实体首部字段-entiy-header-fields"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实体首部字段-entiy-header-fields"}},[e._v("#")]),e._v(" 实体首部字段（Entiy Header Fields）")]),e._v(" "),t("p",[e._v("针对请求报文和响应报文的实体部分使用首部， 也是请求报文和响应报文两方都会使用的首部")]),e._v(" "),t("blockquote",[t("p",[e._v("Allow")])]),e._v(" "),t("p",[e._v("服务器告诉浏览器所支持的 HTTP Methods 的值")]),e._v(" "),t("p",[t("strong",[e._v("语法")])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Allow: GET,POST,HEAD\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("Access-Allow-Origin\nAccess-Allow-Methods\nContent-Encoding")]),e._v(" "),t("blockquote",[t("p",[e._v("Content-Type")])]),e._v(" "),t("p",[e._v("在请求中，客户端告诉服务器实际发送的数据类型\n在响应中，服务器告诉客户端实际返回的数据类型， 但是浏览器不一定会遵循， 可以通过设置 "),t("code",[e._v("x-Content-Type-Options")]),e._v("为"),t("code",[e._v("nosniff")]),e._v("来防止")]),e._v(" "),t("p",[t("strong",[e._v("语法")])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Content-type: application/json;charset=utf-8;boundary=something\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("blockquote",[t("p",[e._v("Last-Modified 跟缓存相关")])]),e._v(" "),t("blockquote",[t("p",[e._v("Expires 跟缓存相关")])]),e._v(" "),t("blockquote",[t("p",[e._v("....")])])])}),[],!1,null,null,null);a.default=n.exports}}]);